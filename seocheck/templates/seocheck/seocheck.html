{% extends "./base.html" %}

{% block title %}SEO Checkup{% endblock %}
{% block body %}
    <h1 class="mb-5">SEO Check Program Demo</h1>
    <h3>Performing operations
        <span id="status">{{ status }}</span>
    </h3>
    <div id="dataDisplay"></div>
{% endblock %}


{% block javascriptTwo %}
    {% csrf_token %}
    <script>
        var csrftoken = jQuery("[name=csrfmiddlewaretoken]").val();
        $.ajaxSetup({
            beforeSend: function (xhr, settings) {
                if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                    xhr.setRequestHeader("X-CSRFToken", csrftoken);
                }
            }
        });

        console.log("CSRF : " + csrftoken);
        $(function () {
            $.post("http://localhost:8000/seocheck/ajax/",
                {
                    name: "Donald Duck",
                    city: "Duckburg"
                },
                function (data, status) {
                    console.log(data);
                    $('#dataDisplay').html(JSON.stringify(data));
                });
        })
    </script>
    <style>
    #dataDisplay{
        padding-top: 40px;
        font-weight: bold;
        font-size: 25px;
    }
    </style>
{% endblock %}
